<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
  </head>
  <body>
    <div id="barchart_material" style="width: 900px; height: 500px;"></div>
    <label>Colors
        <select class="colors">
            <option value="#541B3B #79325A #AB4B81">pink</option>
            <option value="#8E8E21 #B4B437 #E4E45B">yellow</option>
            <option value="#5BE4A7 #31A974 #135638">green</option>
            <option value="#133956 #54A4E0 #7DBFF1">blue</option>
        </select>
        <button class="changeColor">Change Color</button>
    </label>
    <label>Title
        <input type="text" class="title"/>
        <button class="changeTitle">Change title</button>
    </label>
    <label>Bars
        <select class="bars">
            <option value="horizontal">horizontal</option>
            <option value="vertical">vertical</option>
        </select>
        <button class="changeBars">Change Bars</button></label>

        <script type="text/javascript">
        // Загружаем API визуализации и пакет corechart.
            google.charts.load('current', {'packages':['bar']});
          // Устанавливаем обратный вызов для запуска при загрузке API визуализации Google.
            google.charts.setOnLoadCallback(drawChart);
      

            // свойства графика
            let options = {
              title: 'Sales',
              chartArea: {width: '50%'},
              colors: ['#541B3B', '#79325A', '#AB4B81'],
              bars: 'horizontal',
              hAxis: {
                title: 'Total Population',
                minValue: 0
              },
              vAxis: {
                title: 'Year'
              }
            };
      
            //кнопки по которім будут меняться параметры
          let changeTitleBtn = document.querySelector(".changeTitle");
          let changeColorsBtn = document.querySelector(".changeColor");
          let changeBarsBtn = document.querySelector(".changeBars");
          let chartBlock = document.getElementById('barchart_material');
      
      
          function drawChart() {
            //массив значений 
              let data = google.visualization.arrayToDataTable([
                ['Year', 'Sales', 'Expenses', 'Profit'],
                ['2011', 1053, 250, 100],
                ['2012', 2053, 450, 400],
                ['2013', 2000, 450, 400],
                ['2014', 1000, 400, 200],
                ['2015', 1170, 460, 250],
                ['2016', 660, 1120, 300],
                ['2017', 1030, 540, 350],
                ['2018', 2000, 540, 250],
                ['2019', 2010, 1140, 350],
                ['2020', 3010, 1340, 250],
              ]);
      
          changeTitleBtn.addEventListener('click', function(){
              let newValue = document.querySelector(".title");
              //обращаемся к свойству графика (подпись графика)
              options.title = newValue.value;
              let chart = new google.charts.Bar(document.getElementById('barchart_material'));
              chart.draw(data, google.charts.Bar.convertOptions(options));
      
          });

          changeColorsBtn.addEventListener('click', function(){
            let newValue = document.querySelector(".colors").value;
            //разбиваем на отдельные цвета ствроку
            let arrayList = newValue.split(" ");
            //устанавливаем новые цвета
            options.colors = arrayList;
            let chart = new google.charts.Bar(document.getElementById('barchart_material'));
            chart.draw(data, google.charts.Bar.convertOptions(options));
          });

          changeBarsBtn.addEventListener('click', function(){
            let newValue = document.querySelector(".bars").value;
            let block = document.getElementById('barchart_material');
            //позиционирование графика горизонталь/вертикаль
            options.bars = newValue;
            //перерисовываем диаграму
            let chart = new google.charts.Bar(document.getElementById('barchart_material'));
            chart.draw(data, google.charts.Bar.convertOptions(options));
          });
      
              
              // Создаем и рисуем нашу диаграмму, передавая некоторые параметры.
              let chart = new google.charts.Bar(document.getElementById('barchart_material'));
              chart.draw(data, google.charts.Bar.convertOptions(options));
            }
          </script>
  </body>
</html>